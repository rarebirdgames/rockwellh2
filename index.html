<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title-meta">Rockwell H2 | Industrial Hydrogen Infrastructure</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0f0d;
            color: #f8fafc;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }
        .mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Smooth page transitions */
        .page {
            display: none;
            animation: pageFadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        .page.active {
            display: block;
        }
        @keyframes pageFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        canvas#bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            filter: blur(1px);
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .glass-panel:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(16, 185, 129, 0.3);
        }

        .logo-container {
            user-select: none;
            -webkit-user-select: none;
            outline: none;
        }

        /* Prevent Clipping on Italic Clipped Text */
        .hero-title-clip {
            padding-bottom: 0.1em;
            line-height: 1.15;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0a0f0d; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #10b981; }

        .btn-primary {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(16, 185, 129, 0.4);
        }
    </style>
</head>
<body>

    <!-- WebGL Background Layer (Z-0) -->
    <canvas id="bg-canvas"></canvas>
    <div class="fixed inset-0 z-[1] bg-gradient-to-b from-transparent via-[#0a0f0d]/40 to-[#0a0f0d] pointer-events-none"></div>

    <!-- Content Layer (Z-10) -->
    <div class="relative z-10 flex flex-col min-h-screen">
        
        <!-- Navigation -->
        <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-xl border-b border-white/10">
            <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
                <div class="logo-container flex items-center space-x-3 cursor-pointer group" onclick="navTo('home')" tabindex="0">
                    <img id="site-logo" class="h-9 w-auto hidden" alt="Rockwell H2 logo">
                    <div id="site-logo-fallback" class="w-9 h-9 bg-emerald-600 flex items-center justify-center text-white font-bold rounded-lg shadow-lg group-hover:bg-emerald-500 transition-colors">R</div>
                    <span id="site-title" class="text-xl font-bold tracking-tight text-slate-900 uppercase">Rockwell <span class="text-emerald-600">H2</span></span>
                </div>
                
                <div class="hidden lg:flex items-center space-x-10 text-[11px] font-bold uppercase tracking-[0.25em] text-slate-500">
                    <div class="relative group">
                        <button class="hover:text-emerald-600 transition flex items-center py-8">
                            Technology <i data-lucide="chevron-down" class="ml-1.5 w-3 h-3"></i>
                        </button>
                        <div class="absolute hidden group-hover:block w-64 bg-white border border-gray-100 shadow-2xl top-[75px] -left-8 py-3 rounded-xl overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200">
                            <button onclick="navTo('technology')" class="block w-full text-left px-6 py-4 hover:bg-emerald-50 hover:text-emerald-600 transition font-bold uppercase tracking-widest text-[10px]">Conceptual Overview</button>
                            <button onclick="navTo('specs')" class="block w-full text-left px-6 py-4 hover:bg-emerald-50 hover:text-emerald-600 transition font-bold uppercase tracking-widest text-[10px]">Technical Specs</button>
                        </div>
                    </div>
                    <button onclick="navTo('solutions')" class="hover:text-emerald-600 transition py-8">Solutions</button>
                    <button onclick="navTo('company')" class="hover:text-emerald-600 transition py-8">Company</button>
                    <button onclick="navTo('contact')" class="hover:text-emerald-600 transition py-8">Contact</button>
                </div>

                <div class="flex items-center space-x-4">
                    <button onclick="toggleModal(true)" class="btn-primary hidden sm:block bg-emerald-600 text-white px-7 py-3 rounded-full text-[10px] font-bold hover:bg-emerald-500 transition-all uppercase tracking-widest shadow-lg shadow-emerald-900/20">
                        Speak with an Engineer
                    </button>
                    <button class="lg:hidden text-slate-900 p-2" onclick="toggleMobileMenu()">
                        <i data-lucide="menu" id="menu-icon"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden lg:hidden bg-white border-b border-gray-200 py-8 px-8 flex flex-col space-y-6 font-bold uppercase tracking-widest text-xs text-slate-600">
                <button onclick="navTo('technology')" class="text-left border-b border-gray-100 pb-4">Technology Overview</button>
                <button onclick="navTo('specs')" class="text-left border-b border-gray-100 pb-4">Technical Specs</button>
                <button onclick="navTo('solutions')" class="text-left border-b border-gray-100 pb-4">Solutions</button>
                <button onclick="navTo('company')" class="text-left border-b border-gray-100 pb-4">Company</button>
                <button onclick="navTo('contact')" class="text-left border-b border-gray-100 pb-4">Contact</button>
                <button onclick="toggleModal(true)" class="w-full bg-emerald-600 text-white py-5 rounded-xl text-center uppercase tracking-widest text-[11px] font-bold">Speak with an Engineer</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="flex-grow">
            
            <!-- HOME PAGE -->
            <section id="page-home" class="page active">
                <div class="relative min-h-[85vh] flex items-center py-20">
                    <div class="max-w-7xl mx-auto px-6 relative z-20">
                        <div class="max-w-4xl">
                            <div class="inline-flex items-center space-x-3 mb-10 bg-emerald-500/10 border border-emerald-500/20 px-5 py-2.5 rounded-full backdrop-blur-md">
                                <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
                                <span id="home-badge" class="mono text-emerald-400 uppercase tracking-[0.2em] text-[11px] font-bold">Infrastructure Excellence</span>
                            </div>
                            <h1 class="text-6xl md:text-8xl font-bold mb-10 leading-[1.1] uppercase tracking-tight text-white hero-title-clip">
                                <span id="home-h1-1" class="block">Industrial</span>
                                <span id="home-h1-2" class="inline-block text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-emerald-600 italic py-1">Hydrogen</span>
                                <span id="home-h1-3" class="block">Resilience.</span>
                            </h1>
                            <p id="home-subheadline" class="text-xl md:text-2xl text-slate-400 mb-14 leading-relaxed max-w-2xl font-light">
                                Integrated hardware loops for green hydrogen production, high-pressure storage, and high-volume industrial dispensing.
                            </p>
                            <div class="flex flex-col sm:flex-row space-y-5 sm:space-y-0 sm:space-x-8">
                                <button onclick="navTo('specs')" class="btn-primary bg-emerald-600 hover:bg-emerald-500 text-white px-12 py-5 rounded-full font-bold transition-all flex items-center justify-center uppercase text-[11px] tracking-[0.2em] shadow-xl shadow-emerald-900/40">
                                    <span id="home-cta-primary">System Specs</span> <i data-lucide="arrow-right" class="ml-3 w-4 h-4"></i>
                                </button>
                                <button onclick="toggleModal(true)" class="bg-white/5 backdrop-blur-md border border-white/20 hover:bg-white/10 text-white px-12 py-5 rounded-full font-bold transition uppercase text-[11px] tracking-[0.2em]">
                                    <span id="home-cta-secondary">Request Feasibility</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="max-w-7xl mx-auto px-6 -mt-16 relative z-30 pb-32">
                    <div id="home-stats" class="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <div class="glass-panel p-10 rounded-[2rem]">
                            <div class="text-emerald-500/60 uppercase tracking-widest text-[10px] font-bold mb-3 mono">Yield Capacity</div>
                            <div class="text-3xl font-bold text-white tracking-tight">90–225 kg</div>
                            <div class="text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-widest">Per Pod / 24 Hours</div>
                        </div>
                        <div class="glass-panel p-10 rounded-[2rem]">
                            <div class="text-emerald-500/60 uppercase tracking-widest text-[10px] font-bold mb-3 mono">Fiscal Credits</div>
                            <div class="text-3xl font-bold text-white tracking-tight">$3.00 / kg</div>
                            <div class="text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-widest">45V PTC Optimized</div>
                        </div>
                        <div class="glass-panel p-10 rounded-[2rem]">
                            <div class="text-emerald-500/60 uppercase tracking-widest text-[10px] font-bold mb-3 mono">Fleet Refuel</div>
                            <div class="text-3xl font-bold text-white tracking-tight">3.5 Mins</div>
                            <div class="text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-widest">Average Turnaround</div>
                        </div>
                        <div class="glass-panel p-10 rounded-[2rem]">
                            <div class="text-emerald-500/60 uppercase tracking-widest text-[10px] font-bold mb-3 mono">Project ITC</div>
                            <div class="text-3xl font-bold text-white tracking-tight">30%</div>
                            <div class="text-[10px] text-slate-500 mt-1 uppercase font-bold tracking-widest">Investment Credit</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TECHNOLOGY PAGE -->
            <section id="page-technology" class="page">
                <div class="py-32 max-w-7xl mx-auto px-6">
                    <h1 id="tech-title" class="text-6xl md:text-8xl font-bold text-white uppercase tracking-tighter mb-16 leading-[0.9]">Hydrogen <br/><span class="text-emerald-500">Approach</span></h1>
                    <div class="bg-white rounded-[3rem] p-12 md:p-24 text-slate-900 shadow-2xl relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-64 h-64 bg-emerald-50 rounded-full blur-3xl -mr-32 -mt-32 opacity-50"></div>
                        <div class="grid lg:grid-cols-2 gap-24 relative z-10">
                            <div>
                                <h2 id="tech-eyebrow" class="text-xs font-bold text-emerald-600 uppercase tracking-[0.4em] mb-8 border-b border-emerald-100 pb-4 inline-block">Architecture Loop</h2>
                                <h3 id="tech-section-title" class="text-4xl md:text-5xl font-bold mb-10 uppercase tracking-tight leading-tight">Integrated Modular Deployment</h3>
                                <p id="tech-p1" class="text-slate-600 text-xl leading-relaxed mb-10 font-light">
                                    Traditional hydrogen logistics suffer from high transport costs and significant energy loss. Rockwell H2 Systems eliminates these variables by housing the entire hardware production loop within a site-integrated footprint.
                                </p>
                                <p id="tech-p2" class="text-slate-900 text-lg leading-relaxed font-semibold">
                                    We bridge the gap between intermittent renewable energy and the heavy-duty power requirements of global industry.
                                </p>
                            </div>
                            <div id="tech-features" class="grid grid-cols-1 gap-8">
                                <div class="p-10 bg-slate-50 rounded-[2rem] border border-slate-100 group transition-all hover:bg-white hover:shadow-xl">
                                    <div class="w-14 h-14 bg-emerald-100 text-emerald-700 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform">
                                        <i data-lucide="settings" size={28}></i>
                                    </div>
                                    <h4 class="font-bold text-lg uppercase tracking-tight mb-3">Modular Pod Series</h4>
                                    <p class="text-slate-500 leading-relaxed font-medium">Stackable units from 200kW to 10MW+ capacity. Rapid deployment in days, not months.</p>
                                </div>
                                <div class="p-10 bg-slate-50 rounded-[2rem] border border-slate-100 group transition-all hover:bg-white hover:shadow-xl">
                                    <div class="w-14 h-14 bg-emerald-100 text-emerald-700 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform">
                                        <i data-lucide="zap" size={28}></i>
                                    </div>
                                    <h4 class="font-bold text-lg uppercase tracking-tight mb-3">Efficiency Optimization</h4>
                                    <p class="text-slate-500 leading-relaxed font-medium">Zero-loss gaseous storage for seasonal energy balancing and high-purity dispatch.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SPECS PAGE -->
            <section id="page-specs" class="page">
                <div class="py-32 max-w-7xl mx-auto px-6">
                    <h1 id="specs-title" class="text-6xl md:text-8xl font-bold text-white uppercase tracking-tighter mb-16 leading-[0.9]">Technical <br/><span class="text-emerald-500">Specs</span></h1>
                    <div class="bg-white rounded-[3rem] p-10 md:p-20 text-slate-900 shadow-2xl">
                        <div class="overflow-x-auto">
                            <table class="w-full text-left border-collapse">
                                <thead>
                                    <tr class="border-b-2 border-slate-900 text-[11px] uppercase tracking-[0.3em] font-bold text-slate-400">
                                        <th class="py-8 px-4">System Parameter</th>
                                        <th class="py-8 px-4">PowerPod 200 (Standard)</th>
                                        <th class="py-8 px-4 text-emerald-700">PowerPod 1000 (Giga)</th>
                                    </tr>
                                </thead>
                                <tbody id="specs-rows" class="text-sm">
                                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                                        <td class="py-7 px-4 text-slate-400 uppercase text-[10px] font-bold tracking-widest">Stack Output</td>
                                        <td class="py-7 px-4 font-semibold text-slate-800">90 – 225 kg / Day</td>
                                        <td class="py-7 px-4 font-bold text-emerald-700">Up to 1,200 kg / Day</td>
                                    </tr>
                                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                                        <td class="py-7 px-4 text-slate-400 uppercase text-[10px] font-bold tracking-widest">Operating Pressure</td>
                                        <td class="py-7 px-4 font-semibold text-slate-800">450 Bar (Type III)</td>
                                        <td class="py-7 px-4 font-bold text-emerald-700">700 Bar (Type IV)</td>
                                    </tr>
                                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                                        <td class="py-7 px-4 text-slate-400 uppercase text-[10px] font-bold tracking-widest">Grid Load</td>
                                        <td class="py-7 px-4 font-semibold text-slate-800">200 kW Integrated</td>
                                        <td class="py-7 px-4 font-bold text-emerald-700">1,000 kW+ Modular</td>
                                    </tr>
                                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                                        <td class="py-7 px-4 text-slate-400 uppercase text-[10px] font-bold tracking-widest">Gas Purity</td>
                                        <td class="py-7 px-4 font-semibold text-slate-800">99.999% (ISO 14687)</td>
                                        <td class="py-7 px-4 font-bold text-emerald-700">99.999% (Fuel Cell Grade)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-20 flex flex-col md:flex-row items-center justify-between gap-10 bg-slate-950 p-12 rounded-[2rem] text-white">
                            <div class="max-w-xl">
                                <h4 class="text-2xl font-bold uppercase tracking-tight mb-4">Request Comprehensive Datasheet</h4>
                                <p class="text-slate-400 text-sm leading-relaxed">Access full site preparation requirements, P&ID diagrams, and electrical integration protocols.</p>
                            </div>
                            <button onclick="toggleModal(true)" class="btn-primary whitespace-nowrap bg-emerald-600 text-white px-12 py-5 rounded-full font-bold uppercase tracking-widest text-[11px] shadow-2xl">
                                <span id="specs-button-label">Get Technical Data</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- GENERIC/CMS PAGES -->
            <section id="page-generic" class="page">
                <div class="py-32 max-w-5xl mx-auto px-6">
                    <h1 id="generic-title" class="text-6xl font-bold text-white uppercase tracking-tighter mb-16 leading-none"></h1>
                    <div class="bg-white/95 backdrop-blur-2xl p-16 md:p-24 rounded-[3.5rem] text-slate-800 shadow-2xl">
                        <p id="generic-content" class="text-2xl leading-relaxed font-light text-slate-600 whitespace-pre-line"></p>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="bg-slate-950/95 text-white pt-32 pb-16 border-t border-white/5 relative z-10">
            <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-16 mb-24">
                <div class="col-span-1 md:col-span-1">
                    <div class="flex items-center space-x-3 mb-10 logo-container cursor-pointer" onclick="navTo('home')">
                        <div class="w-9 h-9 bg-emerald-600 flex items-center justify-center text-white font-bold rounded-lg shadow-lg">R</div>
                        <span class="site-title-target text-xl font-bold tracking-tight uppercase">Rockwell H2</span>
                    </div>
                    <p id="footer-description" class="text-sm text-slate-500 leading-loose mb-10">
                        Pioneering modular hydrogen infrastructure for industrial decarbonization. Focused on resilience, engineering integrity, and energy transition assets.
                    </p>
                    <div class="flex space-x-8">
                        <a id="social-linkedin" href="https://www.linkedin.com/company/rockwell-h2-solutions" target="_blank" class="text-slate-600 hover:text-emerald-400 transition-colors">
                            <i data-lucide="linkedin" size={22}></i>
                        </a>
                        <a id="social-instagram" href="https://www.instagram.com/rockwellh2systems/" target="_blank" class="text-slate-600 hover:text-emerald-400 transition-colors">
                            <i data-lucide="instagram" size={22}></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="font-bold uppercase text-[10px] tracking-[0.3em] mb-10 text-emerald-500/80">Systems</h4>
                    <ul class="text-xs space-y-6 text-slate-500 font-medium">
                        <li><button onclick="navTo('technology')" class="hover:text-emerald-400 transition">Conceptual Framework</button></li>
                        <li><button onclick="navTo('specs')" class="hover:text-emerald-400 transition">Engineering Specs</button></li>
                        <li><button onclick="navTo('solutions')" class="hover:text-emerald-400 transition">Primary Use Cases</button></li>
                        <li><button onclick="navTo('tax')" class="hover:text-emerald-400 transition">IRA 45V Incentives</button></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold uppercase text-[10px] tracking-[0.3em] mb-10 text-emerald-500/80">Corporate</h4>
                    <ul class="text-xs space-y-6 text-slate-500 font-medium">
                        <li><button onclick="navTo('company')" class="hover:text-emerald-400 transition">Company Background</button></li>
                        <li><button onclick="navTo('safety')" class="hover:text-emerald-400 transition">Safety Protocols</button></li>
                        <li><button onclick="navTo('contact')" class="hover:text-emerald-400 transition">Inquiry Routing</button></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold uppercase text-[10px] tracking-[0.3em] mb-10 text-emerald-500/80">Headquarters</h4>
                    <p id="footer-hq" class="text-xs text-slate-500 leading-loose whitespace-pre-line font-medium">
                        Rockwell H2 Solutions<br />
                        Engineering Hub<br />
                        Santa Ana, California
                    </p>
                </div>
            </div>
            <div class="max-w-7xl mx-auto px-6 border-t border-white/5 pt-16 text-[10px] font-bold tracking-[0.2em] text-slate-700 flex flex-col md:flex-row justify-between uppercase">
                <span>© 2026 Rockwell Engineering and Equipment.</span>
                <span class="text-emerald-900 mt-4 md:mt-0">v7.5.0 Clean Tech Architecture</span>
            </div>
        </footer>
    </div>

    <!-- Engineering Modal -->
    <div id="modal-container" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-950/90 backdrop-blur-md" onclick="toggleModal(false)"></div>
        <div class="bg-white w-full max-w-xl rounded-[2.5rem] shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 duration-300">
            <div id="modal-content" class="p-10 md:p-16 text-slate-900">
                <div id="modal-step-1" class="modal-step">
                    <div class="flex justify-between items-start mb-10">
                        <div>
                            <h2 class="text-3xl font-bold mb-2 uppercase tracking-tight">Technical Inquiry</h2>
                            <p class="text-sm text-slate-500 font-medium">Route your brief to the correct engineering lead.</p>
                        </div>
                        <button onclick="toggleModal(false)" class="p-3 hover:bg-slate-100 rounded-full transition text-slate-400 hover:text-slate-900"><i data-lucide="x"></i></button>
                    </div>
                    <div class="grid grid-cols-1 gap-4">
                        <button onclick="goToForm('Project Evaluation')" class="group w-full flex items-center justify-between p-6 border border-slate-100 rounded-2xl hover:border-emerald-600 hover:bg-emerald-50 transition-all text-left">
                            <span class="font-bold text-slate-700 uppercase tracking-widest text-[11px]">Project Evaluation</span>
                            <i data-lucide="arrow-right" class="text-slate-300 group-hover:text-emerald-600 transition-transform group-hover:translate-x-1"></i>
                        </button>
                        <button onclick="goToForm('Technical Integration')" class="group w-full flex items-center justify-between p-6 border border-slate-100 rounded-2xl hover:border-emerald-600 hover:bg-emerald-50 transition-all text-left">
                            <span class="font-bold text-slate-700 uppercase tracking-widest text-[11px]">Technical Integration</span>
                            <i data-lucide="arrow-right" class="text-slate-300 group-hover:text-emerald-600 transition-transform group-hover:translate-x-1"></i>
                        </button>
                    </div>
                </div>
                <div id="modal-step-2" class="modal-step hidden">
                    <div class="mb-10">
                        <h2 class="text-3xl font-bold mb-2 uppercase tracking-tight leading-none">Engineering Brief</h2>
                        <p id="form-type-label" class="text-emerald-600 font-bold uppercase tracking-widest text-[10px]"></p>
                    </div>
                    <form onsubmit="handleForm(event)" class="space-y-5">
                        <input required type="text" placeholder="Full Name" class="w-full bg-slate-50 border border-slate-200 p-4 rounded-xl outline-none focus:border-emerald-600 focus:bg-white transition shadow-inner">
                        <input required type="text" placeholder="Organization" class="w-full bg-slate-50 border border-slate-200 p-4 rounded-xl outline-none focus:border-emerald-600 focus:bg-white transition shadow-inner">
                        <input required type="email" placeholder="Work Email" class="w-full bg-slate-50 border border-slate-200 p-4 rounded-xl outline-none focus:border-emerald-600 focus:bg-white transition shadow-inner">
                        <textarea required placeholder="Site constraints or project context..." class="w-full bg-slate-50 border border-slate-200 p-4 rounded-xl outline-none focus:border-emerald-600 focus:bg-white transition h-32 shadow-inner"></textarea>
                        <div class="flex justify-between items-center pt-6">
                            <button type="button" onclick="goToStep(1)" class="text-[11px] font-bold text-slate-400 uppercase tracking-widest hover:text-slate-600 transition">Back</button>
                            <button type="submit" class="btn-primary bg-emerald-600 text-white px-12 py-5 rounded-full font-bold text-[11px] tracking-widest uppercase shadow-xl">Submit Brief</button>
                        </div>
                    </form>
                </div>
                <div id="modal-step-3" class="modal-step hidden text-center py-10">
                    <div class="w-20 h-20 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8">
                         <i data-lucide="check-circle" size={40}></i>
                    </div>
                    <h3 class="text-3xl font-bold uppercase tracking-tight text-slate-900">Success</h3>
                    <p class="text-slate-500 mt-4 leading-relaxed max-w-xs mx-auto font-medium">Your inquiry has been logged. Our technical project lead will respond within 48 hours.</p>
                    <button onclick="toggleModal(false)" class="mt-12 bg-slate-900 text-white px-14 py-5 rounded-full text-[11px] font-bold uppercase tracking-widest hover:bg-slate-800 transition shadow-xl">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- WebGL Background Script -->
    <script>
        const canvas = document.getElementById("bg-canvas");
        const gl = canvas.getContext("webgl", { antialias: false, alpha: false, powerPreference: "high-performance" });
        
        const vert = `attribute vec2 a_pos; void main() { gl_Position = vec4(a_pos, 0.0, 1.0); }`;
        const frag = `
            precision highp float;
            uniform float u_time;
            uniform vec2 u_resolution;
            uniform float u_scroll;
            uniform float u_scrollNorm;
            uniform float u_isHome;

            #define PI 3.141592653589793
            #define SCALE 28.0
            #define Z_FROM -2.2
            #define Z_TO 2.2
            #define Z_STEP 0.28
            #define A0 1.0
            #define E1 1.0
            #define R_A_PI_3 0.5641895835477563

            void im_exp(float amp, float phase, out vec2 im) { im.x = cos(phase) * amp; im.y = sin(phase) * amp; }
            void wave_1s(vec3 pos, float t, out vec2 im) { float amp = R_A_PI_3 * exp(-pos.x / A0); im_exp(amp, E1 * t, im); }
            void wave_2p(vec3 pos, float t, out vec2 im) { float amp = (1.0 / (sqrt(2.0) * 4.0 * A0)) * R_A_PI_3 * exp(-pos.x / (2.0 * A0)) * pos.x * cos(pos.y); im_exp(amp, (E1 / 4.0) * t, im); }
            void wave_3d(vec3 pos, float t, out vec2 im) { float amp = (1.0 / (sqrt(6.0) * 81.0 * A0 * A0)) * R_A_PI_3 * exp(-pos.x / (3.0 * A0)) * pos.x * pos.x * (3.0 * cos(pos.y) * cos(pos.y) - 1.0); im_exp(amp, (E1 / 9.0) * t, im); }

            void main() {
                vec2 fragCoord = gl_FragCoord.xy;
                float dim = min(u_resolution.x, u_resolution.y);
                vec2 pos = (fragCoord.xy - 0.5 * u_resolution.xy) / dim;

                float p = mod(u_time, 15.0) / 15.0;
                float w1 = exp(-40.0 * pow(p - 0.0, 2.0)) + exp(-40.0 * pow(p - 1.0, 2.0));
                float w2 = exp(-40.0 * pow(p - 0.33, 2.0));
                float w3 = exp(-40.0 * pow(p - 0.66, 2.0));
                float norm = w1 + w2 + w3 + 1e-6;
                w1 /= norm; w2 /= norm; w3 /= norm;

                float drift = u_scroll * 0.0004;
                float yz = u_time * 0.12 + drift;
                float xz = u_time * 0.08 + drift * 0.5;
                mat3 rot = mat3(1,0,0,0,cos(yz),sin(yz),0,-sin(yz),cos(yz)) * mat3(cos(xz),0,sin(xz),0,1,0,-sin(xz),0,cos(xz));

                vec2 intensity = vec2(0.0);
                for (float z = Z_FROM; z <= Z_TO; z += Z_STEP) {
                    vec3 cart = rot * (vec3(pos, z) * SCALE);
                    float r = max(length(cart), 1e-6);
                    float theta = acos(clamp(cart.z / r, -1.0, 1.0));
                    float phi = atan(cart.y, cart.x);
                    vec2 i1, i2, i3;
                    wave_1s(vec3(r, theta, phi), u_time * 6.0, i1);
                    wave_2p(vec3(r, theta, phi), u_time * 6.0, i2);
                    wave_3d(vec3(r, theta, phi), u_time * 6.0, i3);
                    vec2 combined = i1 * w1 + i2 * w2 + i3 * w3;
                    intensity += (combined * combined) * (Z_STEP / (Z_TO - Z_FROM));
                }
                intensity /= 0.0001;
                float fade = (1.0 - smoothstep(0.8, 2.0, u_scrollNorm)) * (u_isHome > 0.5 ? 1.0 : 0.4);
                vec3 col = vec3(intensity.x * 0.08, (intensity.x + intensity.y) * 0.5, intensity.y * 0.15) + intensity.x * 0.18;
                gl_FragColor = vec4(col * fade * 0.65, 1.0);
            }
        `;

        function createShader(gl, type, src) {
            const s = gl.createShader(type);
            gl.shaderSource(s, src);
            gl.compileShader(s);
            return s;
        }

        const prog = gl.createProgram();
        gl.attachShader(prog, createShader(gl, gl.VERTEX_SHADER, vert));
        gl.attachShader(prog, createShader(gl, gl.FRAGMENT_SHADER, frag));
        gl.linkProgram(prog);

        const buf = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, buf);
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]), gl.STATIC_DRAW);

        const aPos = gl.getAttribLocation(prog, "a_pos");
        const uTime = gl.getUniformLocation(prog, "u_time");
        const uRes = gl.getUniformLocation(prog, "u_resolution");
        const uScroll = gl.getUniformLocation(prog, "u_scroll");
        const uScrollNorm = gl.getUniformLocation(prog, "u_scrollNorm");
        const uIsHome = gl.getUniformLocation(prog, "u_isHome");

        gl.useProgram(prog);
        gl.enableVertexAttribArray(aPos);
        gl.vertexAttribPointer(aPos, 2, gl.FLOAT, false, 0, 0);

        let currentScroll = 0;
        let isHomePage = true;

        function resize() {
            const dpr = Math.min(window.devicePixelRatio || 1, 2);
            canvas.width = window.innerWidth * dpr * 0.5;
            canvas.height = window.innerHeight * dpr * 0.5;
            gl.viewport(0, 0, canvas.width, canvas.height);
        }
        window.addEventListener('resize', resize);
        resize();

        window.addEventListener('scroll', () => { currentScroll = window.scrollY; }, { passive: true });

        function render(now) {
            gl.uniform1f(uTime, now / 1000);
            gl.uniform2f(uRes, canvas.width, canvas.height);
            gl.uniform1f(uScroll, currentScroll);
            gl.uniform1f(uScrollNorm, currentScroll / window.innerHeight);
            gl.uniform1f(uIsHome, isHomePage ? 1.0 : 0.0);
            gl.drawArrays(gl.TRIANGLES, 0, 6);
            requestAnimationFrame(render);
        }
        requestAnimationFrame(render);
    </script>

    <!-- CMS Content Loading & Rendering Logic -->
    <script>
        let cms = null;

        async function loadCMS() {
            if (cms) return cms;
            try {
                const [sRes, pRes] = await Promise.all([
                    fetch('/content/settings.json', { cache: 'no-store' }),
                    fetch('/content/pages.json', { cache: 'no-store' })
                ]);
                if (!sRes.ok || !pRes.ok) throw new Error("CMS JSON missing");
                cms = { settings: await sRes.json(), pages: await pRes.json() };
                return cms;
            } catch (err) {
                return null;
            }
        }

        async function applyCMS() {
            const data = await loadCMS();
            if (!data) return;
            const { settings, pages } = data;

            // Site Settings
            document.querySelectorAll('#site-title, .site-title-target').forEach(el => el.textContent = settings.siteTitle);
            const logo = document.getElementById('site-logo');
            if (settings.logoImage && logo) {
                logo.src = settings.logoImage;
                logo.classList.remove('hidden');
                document.getElementById('site-logo-fallback').classList.add('hidden');
            }

            // Home Page
            const hb = pages.home;
            const setText = (id, v) => { const el = document.getElementById(id); if (el) el.textContent = v; };
            setText('home-badge', hb.badgeText);
            setText('home-h1-1', hb.headline1); setText('home-h1-2', hb.headlineEmphasis); setText('home-h1-3', hb.headline3);
            setText('home-subheadline', hb.subheadline);
            setText('home-cta-primary', hb.primaryCtaLabel); setText('home-cta-secondary', hb.secondaryCtaLabel);
            
            // Re-render Stats if they exist in JSON
            const statsContainer = document.getElementById('home-stats');
            if (statsContainer && hb.stats) {
                statsContainer.innerHTML = hb.stats.map(s => `
                    <div class="glass-panel p-10 rounded-[2rem]">
                        <div class="text-emerald-500/60 uppercase tracking-widest text-[10px] font-bold mb-3 mono">${s.label}</div>
                        <div class="text-3xl font-bold text-white tracking-tight">${s.value}</div>
                    </div>`).join('');
            }

            // Tech Page
            const t = pages.technology;
            setText('tech-title', t.title); setText('tech-eyebrow', t.eyebrow); setText('tech-section-title', t.sectionTitle);
            setText('tech-p1', t.p1); setText('tech-p2', t.p2);
            if (t.features) {
                document.getElementById('tech-features').innerHTML = t.features.map(f => `
                    <div class="p-10 bg-slate-50 rounded-[2rem] border border-slate-100 group transition-all hover:bg-white hover:shadow-xl">
                        <div class="w-14 h-14 bg-emerald-100 text-emerald-700 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform">
                            <i data-lucide="${f.icon}"></i>
                        </div>
                        <h4 class="font-bold text-lg uppercase tracking-tight mb-3">${f.title}</h4>
                        <p class="text-slate-500 leading-relaxed font-medium">${f.body}</p>
                    </div>
                `).join('');
            }

            // Specs Page
            const sp = pages.specs;
            setText('specs-title', sp.title); setText('specs-button-label', sp.buttonLabel);
            if (sp.rows) {
                document.getElementById('specs-rows').innerHTML = sp.rows.map(r => `
                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                        <td class="py-7 px-4 text-slate-400 uppercase text-[10px] font-bold tracking-widest">${r.parameter}</td>
                        <td class="py-7 px-4 font-semibold text-slate-800">${r.pp250}</td>
                        <td class="py-7 px-4 font-bold text-emerald-700">${r.pp1000}</td>
                    </tr>`).join('');
            }

            // Footer
            setText('footer-description', settings.footerDescription); setText('footer-hq', settings.hqBlock);
            if (settings.linkedinUrl) document.getElementById('social-linkedin').href = settings.linkedinUrl;
            if (settings.instagramUrl) document.getElementById('social-instagram').href = settings.instagramUrl;

            lucide.createIcons();
        }

        async function navTo(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
            isHomePage = (pageId === 'home');

            if (['home', 'technology', 'specs'].includes(pageId)) {
                document.getElementById('page-' + pageId).classList.add('active');
            } else {
                const data = await loadCMS();
                const genericData = data ? data.pages.generic : {
                    solutionsTitle: "Integrated Solutions",
                    solutionsBody: "Rockwell H2 provides turnkey solutions for Port Logistics, Warehousing, and Remote Microgrids. Each deployment includes our modular PowerPod hardware cluster managed by an integrated software monitoring layer.",
                    companyTitle: "About Rockwell H2",
                    companyBody: "Founded on the principle of industrial resilience, Rockwell H2 Systems engineers the hardware necessary to decarbonize the global supply chain. We focus on mid-stream infrastructure that bridges renewable generation with heavy-duty consumption.",
                    contactTitle: "Inquiry Routing",
                    contactBody: "Select your inquiry path to be connected with our regional engineering or investment teams. We maintain response times under 48 hours for institutional partners.",
                    safetyTitle: "Safety Standards",
                    safetyBody: "Safety is our fundamental engineering constraint. Rockwell H2 pods are NFPA 2 and ASME B31.12 compliant, featuring triple-redundant pressure relief and automated leak mitigation systems.",
                    taxTitle: "Incentives (45V)",
                    taxBody: "The Inflation Reduction Act (IRA) provides significant production tax credits for clean hydrogen. Rockwell H2 pods are engineered to qualify for the highest tiers ($3.00/kg) by utilizing site-integrated renewable assets."
                };

                const map = {
                    solutions: [genericData.solutionsTitle, genericData.solutionsBody],
                    company: [genericData.companyTitle, genericData.companyBody],
                    contact: [genericData.contactTitle, genericData.contactBody],
                    safety: [genericData.safetyTitle, genericData.safetyBody],
                    tax: [genericData.taxTitle, genericData.taxBody]
                };
                
                const config = map[pageId];
                document.getElementById('generic-title').innerText = config[0];
                document.getElementById('generic-content').innerText = config[1];
                document.getElementById('page-generic').classList.add('active');
            }
            document.getElementById('mobile-menu').classList.add('hidden');
        }

        function toggleModal(s) { document.getElementById('modal-container').classList.toggle('hidden', !s); if (s) goToStep(1); }
        function goToStep(s) { document.querySelectorAll('.modal-step').forEach(st => st.classList.add('hidden')); document.getElementById('modal-step-' + s).classList.remove('hidden'); }
        function goToForm(t) { document.getElementById('form-type-label').innerText = t; goToStep(2); }
        function handleForm(e) { e.preventDefault(); goToStep(3); }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        applyCMS().then(() => lucide.createIcons()).catch(() => lucide.createIcons());
    </script>
</body>
</html>
